// Commande Afficher tout les éléments pour MONGODB
// A integrer dans Server.js pour afficher les éléments dans la console

//mongo const
const MongoClient = require('mongodb').MongoClient;
//Uri de connexion
const uri = "mongodb+srv://maxime:2T4VadBrAnmLy0JW@mongonode.vi8f1bb.mongodb.net/?retryWrites=true&w=majority";

//const de fonction
const client = new MongoClient(uri);
async function run() {
    //TRY
  try {

    //Selection de la Bdd
    const database = client.db('mongonode');
    //Selection de la Collection
    const titles = database.collection('test');

    //Définition de la Recherche
    const findResult = await titles.find({
      title: "batman",
    });

    //boucle pour afficher tous les éléments de Recherche
    for await (const doc of findResult) {
      console.log(doc);
    }

  } finally {
    // Ensures that the client will close when you finish/error
    await client.close();
  }
}
//appel de la fonction run 
run().catch(console.dir);