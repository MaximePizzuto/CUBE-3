//mongo const
const MongoClient = require('mongodb').MongoClient;
//Défintion de l'URI
const uri = "mongodb+srv://maxime:2T4VadBrAnmLy0JW@mongonode.vi8f1bb.mongodb.net/?retryWrites=true&w=majority";
//nouveau client
const client = new MongoClient(uri);
//définition de la fonction run 
async function run() {
    //TRY
  try {
    //SELECTION DATABASE
    const database = client.db('mongonode');
    //SELECTION collection
    const titles = database.collection('test');
    // Query for a movie that has the title 'batman'
    //definition de la recherche
    const query = {title: "batman"};
    //Requete findOne()
    const title = await titles.findOne(query);
    //affichage dans la console 
    console.log(title);
  } finally {
    // Ensures that the client will close when you finish/error
    await client.close();
  }
}
// appel de la fonction run
run().catch(console.dir);