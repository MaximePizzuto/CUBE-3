// Commande Afficher tout les éléments pour MONGODB
// A integrer dans Server.js pour afficher les éléments dans la console

//mongo const
const MongoClient = require('mongodb').MongoClient;
//Uri de connexion
const uri = "mongodb+srv://maxime:2T4VadBrAnmLy0JW@mongonode.vi8f1bb.mongodb.net/?retryWrites=true&w=majority";

//const de fonction
const client = new MongoClient(uri);
async function run() {
    //TRY
  try {

    //definition base de données mongo
    const database = client.db('mongonode');
    //definition collection
    const titles = database.collection('test');
    // définition du document
    const doc = { title: "batman", description: "Batman 1 : le premier quoi !"};
    //Requete delete
    const result = await titles.deleteOne(doc);
    //affichage dans la console
    console.log(
    `A document was deleted with the _id: ${result.deletedCount}`,
    );

  } finally {
    // Ensures that the client will close when you finish/error
    await client.close();
  }
}
//appel de la fonction run 
run().catch(console.dir);